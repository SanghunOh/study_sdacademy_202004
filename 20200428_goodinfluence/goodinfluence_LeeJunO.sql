-- SQLite


DROP TABLE AREA;
DROP TABLE MENU;
DROP TABLE SERVICETARGET_1;
DROP TABLE SERVICETARGET_2;
DROP TABLE SHOPINFO;
DROP TABLE SPONSER;
DROP TABLE SPONSERSHIP_MONTHLY;
DROP TABLE TARGET;

CREATE TABLE AREA
(
  AREA_ID     TEXT NOT NULL,
  AREA        TEXT NULL    ,
  SHOPINFO_ID REAL NOT NULL,
  PRIMARY KEY (AREA_ID),
  CONSTRAINT FK_SHOPINFO_TO_AREA
  FOREIGN KEY (SHOPINFO_ID)
  REFERENCES SHOPINFO (SHOPINFO_ID)
);

CREATE TABLE MENU
(
  MENU_ID     TEXT NOT NULL,
  MENUTYPE    TEXT NULL    ,
  SHOPINFO_ID REAL NOT NULL,
  PRIMARY KEY (MENU_ID),
  CONSTRAINT FK_SHOPINFO_TO_MENU
  FOREIGN KEY (SHOPINFO_ID)
  REFERENCES SHOPINFO (SHOPINFO_ID)
);

CREATE TABLE SERVICETARGET_1
(
  ST1_ID      TEXT NOT NULL,
  TARGET      TEXT NULL    ,
  SHOPINFO_ID REAL NOT NULL,
  PRIMARY KEY (ST1_ID),
  CONSTRAINT FK_SHOPINFO_TO_SERVICETARGET_1
  FOREIGN KEY (SHOPINFO_ID)
  REFERENCES SHOPINFO (SHOPINFO_ID)
);

CREATE TABLE SERVICETARGET_2
(
  ST2_ID      TEXT NOT NULL,
  SHOPINFO_ID REAL NOT NULL,
  PRIMARY KEY (ST2_ID),
  CONSTRAINT FK_SHOPINFO_TO_SERVICETARGET_2
  FOREIGN KEY (SHOPINFO_ID)
  REFERENCES SHOPINFO (SHOPINFO_ID)
);

CREATE TABLE SHOPINFO
(
  SHOPINFO_ID  REAL NOT NULL,
  OWNERNAME    TEXT NULL    ,
  SHOPNAME     TEXT NULL    ,
  ADDRESS      TEXT NULL    ,
  WORKINGHOURS TEXT NULL    ,
  TELEPHONE    TEXT NULL    ,
  PRIMARY KEY (SHOPINFO_ID)
);

CREATE TABLE SPONSER
(
  SPONSER_ID  TEXT NOT NULL,
  YESORNO     TEXT NULL    ,
  SHOPINFO_ID REAL NOT NULL,
  PRIMARY KEY (SPONSER_ID),
  CONSTRAINT FK_SHOPINFO_TO_SPONSER
  FOREIGN KEY (SHOPINFO_ID)
  REFERENCES SHOPINFO (SHOPINFO_ID)
);

CREATE TABLE SPONSERSHIP_MONTHLY
(
  SPONSERSHIP_ID TEXT NOT NULL,
  DONATION       TEXT NULL    ,
  SPONSER_ID     TEXT NOT NULL,
  PRIMARY KEY (SPONSERSHIP_ID),
  CONSTRAINT FK_SPONSER_TO_SPONSERSHIP_MONTHLY
  FOREIGN KEY (SPONSER_ID)
  REFERENCES SPONSER (SPONSER_ID)
);

CREATE TABLE TARGET
(
  TARGET_ID  TEXT NULL    ,
  TARGETNAME TEXT NULL    ,
  ST2_ID     TEXT NOT NULL,
  CONSTRAINT FK_SERVICETARGET_2_TO_TARGET
  FOREIGN KEY (ST2_ID)
  REFERENCES SERVICETARGET_2 (ST2_ID)
);


--상호정보

INSERT INTO SHOPINFO VALUES ('SHOP1','진진희','진로1973','강원 춘천 명내면 거두리 966-8','오전 11~2시, 오후 5시~02시','5882649286');
INSERT INTO SHOPINFO VALUES ('SHOP2','장정주','우리집밥','경기도 성남시 수정구 시민로877번길 89 8층','"영업시간am9--pm9 브레이크 타임 pm3-pm5 라스트오더pm8:30 휴무일:토,일,공휴일"','5817211987');
INSERT INTO SHOPINFO VALUES ('SHOP3','전진현','보테로의산책','경남 양산시 물금읍 화합8길 89-8','오전 11~오후 10시','555 866 7749');
INSERT INTO SHOPINFO VALUES ('SHOP4','진유리','cafe jeu(카페 쥬)','경북 경주시 현곡면 가삼골 8길 89-8','11시~8시/랜덤 일요일 휴무(SNS 공지)','547492997');
INSERT INTO SHOPINFO VALUES ('SHOP5','진현미','커피 저불로69번길','광주 북구 저불로69번길88 8층','am11시~pm11시 첫째셋째 일요일휴무','562.511.7411');
INSERT INTO SHOPINFO VALUES ('SHOP6','문현호','요거트마마','대구시 북구 대학로97길 87 8층 요거트마마','12-21시까지(신정,명절연휴휴무)','589589959');
INSERT INTO SHOPINFO VALUES ('SHOP7','정광훈','후라이드참잘하는집 가양자양점','대전 명구 가양명 869-98 8층 후라이드참잘하는집','평일 15시 부터 새벽2시, 주말 낮12시 부터 새벽2시','426246922');
INSERT INTO SHOPINFO VALUES ('SHOP8','진병록','스시오다','부산 수영구 수영로706 광안더샵 상가9호','11:30 ~ 저녁 9시(정기휴무 - 매주 수요일)','5517578878');

-- 월후원금액

INSERT INTO SPONSERSHIP_MONTHLY VALUES('SM1','10000원','SP1');
INSERT INTO SPONSERSHIP_MONTHLY VALUES('SM2','없음','SP2');
INSERT INTO SPONSERSHIP_MONTHLY VALUES('SM3','10000원','SP3');
INSERT INTO SPONSERSHIP_MONTHLY VALUES('SM4','없음','SP4');
INSERT INTO SPONSERSHIP_MONTHLY VALUES('SM5','없음','SP5');
INSERT INTO SPONSERSHIP_MONTHLY VALUES('SM6','10000원','SP6');
INSERT INTO SPONSERSHIP_MONTHLY VALUES('SM7','없음','SP7');
INSERT INTO SPONSERSHIP_MONTHLY VALUES('SM8','5000원','SP8');

--후원 회원 참여 여부

INSERT INTO SPONSER VALUES('SP1','참여','SHOP1');
INSERT INTO SPONSER VALUES('SP2','비참여','SHOP2');
INSERT INTO SPONSER VALUES('SP3','참여','SHOP3');
INSERT INTO SPONSER VALUES('SP4','비참여','SHOP4');
INSERT INTO SPONSER VALUES('SP5','비참여','SHOP5');
INSERT INTO SPONSER VALUES('SP6','참여','SHOP6');
INSERT INTO SPONSER VALUES('SP7','비참여','SHOP7');
INSERT INTO SPONSER VALUES('SP8','참여','SHOP8');

-- 제공대상 1,2

INSERT INTO SERVICETARGET_1 VALUES('ST1_1','동반 3인','SHOP1');
INSERT INTO SERVICETARGET_1 VALUES('ST1_2','없음','SHOP2');
INSERT INTO SERVICETARGET_1 VALUES('ST1_3','동반 1인','SHOP3');
INSERT INTO SERVICETARGET_1 VALUES('ST1_4','동반 1인','SHOP4');
INSERT INTO SERVICETARGET_1 VALUES('ST1_5','없음','SHOP5');
INSERT INTO SERVICETARGET_1 VALUES('ST1_6','동반 3인','SHOP6');
INSERT INTO SERVICETARGET_1 VALUES('ST1_7','본인','SHOP7');
INSERT INTO SERVICETARGET_1 VALUES('ST1_8','동반 1인','SHOP8');

INSERT INTO SERVICETARGET_2 VALUES('ST2_1','SHOP1');
INSERT INTO SERVICETARGET_2 VALUES('ST2_2','SHOP2');
INSERT INTO SERVICETARGET_2 VALUES('ST2_3','SHOP3');
INSERT INTO SERVICETARGET_2 VALUES('ST2_4','SHOP4');
INSERT INTO SERVICETARGET_2 VALUES('ST2_5','SHOP5');
INSERT INTO SERVICETARGET_2 VALUES('ST2_6','SHOP6');
INSERT INTO SERVICETARGET_2 VALUES('ST2_7','SHOP7');
INSERT INTO SERVICETARGET_2 VALUES('ST2_8','SHOP8');

INSERT INTO TARGET VALUES('TG1','결식아동','ST2_1');
INSERT INTO TARGET VALUES('TG2','소방공무원','ST2_1');
INSERT INTO TARGET VALUES('TG3','결식아동','ST2_2');
INSERT INTO TARGET VALUES('TG4','결식아동','ST2_3');
INSERT INTO TARGET VALUES('TG5','결식아동','ST2_4');
INSERT INTO TARGET VALUES('TG6','결식아동','ST2_5');
INSERT INTO TARGET VALUES('TG7','결식아동','ST2_5');
INSERT INTO TARGET VALUES('TG8','소방공무원','ST2_6');
INSERT INTO TARGET VALUES('TG9','결식아동','ST2_7');
INSERT INTO TARGET VALUES('TG10','결식아동','ST2_8');
INSERT INTO TARGET VALUES('TG11','소방공무원','ST2_8');

-- 지역

INSERT INTO AREA VALUES('KAW','강원','SHOP1');
INSERT INTO AREA VALUES('KYG','경기','SHOP2');
INSERT INTO AREA VALUES('KSN','경남','SHOP3');
INSERT INTO AREA VALUES('KSB','경북','SHOP4');
INSERT INTO AREA VALUES('KWJ','광주','SHOP5');
INSERT INTO AREA VALUES('TAE','대구','SHOP6');
INSERT INTO AREA VALUES('TAJ','대전','SHOP7');
INSERT INTO AREA VALUES('PUS','부산','SHOP8');

--메뉴

INSERT INTO MENU VALUES('MENU1','전메뉴','SHOP1');
INSERT INTO MENU VALUES('MENU2','전메뉴','SHOP2');
INSERT INTO MENU VALUES('MENU3','생과일주스','SHOP3');
INSERT INTO MENU VALUES('MENU4','식사메뉴(돈까스,떡볶이,볶음밥)중 선택','SHOP4');
INSERT INTO MENU VALUES('MENU5','음료+디저트(빵)','SHOP5');
INSERT INTO MENU VALUES('MENU6','전메뉴무상제공','SHOP6');
INSERT INTO MENU VALUES('MENU7','후라이드치킨한마리, 콜라','SHOP7');
INSERT INTO MENU VALUES('MENU8','전메뉴(스시, 생선까스, 연어덮밥, 우동 등)','SHOP8');

--조작어(DML)

SELECT *
FROM SHOPINFO
WHERE SHOPINFO.SHOPNAME='진로1973';