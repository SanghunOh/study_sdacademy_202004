-- SQLite
CREATE TABLE BENEFIT_MENU
(
  MENTYPE_ID TEXT NOT NULL,
  MENU_TYPE  TEXT NULL    ,
  PRIMARY KEY (MENTYPE_ID)
);

CREATE TABLE BENEFIT_PERSONELL
(
  PERSONELL_ID        TEXT NOT NULL,
  AMOUNT_OF_PERSONELL TEXT NULL    ,
  PRIMARY KEY (PERSONELL_ID)
);

CREATE TABLE BENEFIT_RANGE
(
  RANGE_ID   TEXT NOT NULL,
  RANGE_NAME TEXT NULL    ,
  PRIMARY KEY (RANGE_ID)
);

CREATE TABLE BENEFIT_RECEIVER
(
  RECEIVER_ID TEXT NOT NULL,
  RECEIVER    TEXT NULL    ,
  PRIMARY KEY (RECEIVER_ID)
);

CREATE TABLE CLOSURE_TIME
(
  CLOSURE_TIME TEXT NOT NULL,
  PRIMARY KEY (CLOSURE_TIME)
);

CREATE TABLE DAY_OFF
(
  DAYOFF_ID TEXT NOT NULL,
  OFF_DAY   TEXT NULL    ,
  PRIMARY KEY (DAYOFF_ID)
);

CREATE TABLE DONATION_GENERAL
(
  PARTICIPATE_ID TEXT NOT NULL,
  PATICIPATION   TEXT NULL    ,
  PRIMARY KEY (PARTICIPATE_ID)
);

CREATE TABLE GOOD_STORE
(
  STORE_ID       FLOAT NOT NULL,
  STORE_NAME     TEXT  NULL    ,
  OWNER          TEXT  NULL    ,
  TEL            FLOAT NULL    ,
  ADDRESS        TEXT  NULL    ,
  PROVINCE_ID    TEXT  NOT NULL,
  OPEN_TIME      TEXT  NOT NULL,
  CLOSURE_TIME   TEXT  NOT NULL,
  OFF_ID         TEXT  NOT NULL,
  PERSONELL_ID   TEXT  NOT NULL,
  PARTICIPATE_ID TEXT  NOT NULL,
  RANGE_ID       TEXT  NOT NULL,
  MENTYPE_ID     TEXT  NOT NULL,
  DONATION_ID     TEXT NOT NULL,  
  PRIMARY KEY (STORE_ID),
CONSTRAINT FK_LOCATION_TO_GOOD_STORE
    FOREIGN KEY (PROVINCE_ID)
    REFERENCES LOCATION (PROVINCE_ID),
CONSTRAINT FK_OPEN_TIME_TO_GOOD_STORE
    FOREIGN KEY (OPEN_TIME)
    REFERENCES OPEN_TIME (OPEN_TIME),
CONSTRAINT FK_CLOSURE_TIME_TO_GOOD_STORE
    FOREIGN KEY (CLOSURE_TIME)
    REFERENCES CLOSURE_TIME (CLOSURE_TIME),
CONSTRAINT FK_DAY_OFF_TO_GOOD_STORE
    FOREIGN KEY (OFF_ID)
    REFERENCES DAY_OFF (DAYOFF_ID),
CONSTRAINT FK_BENEFIT_PERSONELL_TO_GOOD_STORE
    FOREIGN KEY (PERSONELL_ID)
    REFERENCES BENEFIT_PERSONELL (PERSONELL_ID),
CONSTRAINT FK_DONATION_GENERAL_TO_GOOD_STORE
    FOREIGN KEY (PARTICIPATE_ID)
    REFERENCES DONATION_GENERAL (PARTICIPATE_ID),
CONSTRAINT FK_BENEFIT_RANGE_TO_GOOD_STORE
    FOREIGN KEY (RANGE_ID)
    REFERENCES BENEFIT_RANGE (RANGE_ID),
CONSTRAINT FK_BENEFIT_MENU_TO_GOOD_STORE
    FOREIGN KEY (MENTYPE_ID)
    REFERENCES BENEFIT_MENU (MENTYPE_ID),
CONSTRAINT FK_ROUTINAL_DONATION_TO_GOOD_STORE
    FOREIGN KEY (DONATION_ID)
    REFERENCES ROUTINAL_DONATION (DONATION_ID)    
);

CREATE TABLE LOCATION
(
  PROVINCE_ID   TEXT NOT NULL,
  PROVINCE_NAME TEXT NULL    ,
  PRIMARY KEY (PROVINCE_ID)
);

CREATE TABLE OPEN_TIME
(
  OPEN_TIME TEXT NOT NULL,
  PRIMARY KEY (OPEN_TIME)
);

CREATE TABLE ROUTINAL_DONATION
(
  DONATION_ID     TEXT NOT NULL,
  DONATION_AMOUNT TEXT NULL    ,
  PRIMARY KEY (DONATION_ID)
);

CREATE TABLE STORE_RECEIVER
(
  STORE_ID    FLOAT NOT NULL,
  RECEIVER_ID TEXT  NOT NULL,
CONSTRAINT FK_GOOD_STORE_TO_STORE_RECEIVER
    FOREIGN KEY (STORE_ID)
    REFERENCES GOOD_STORE (STORE_ID),
CONSTRAINT FK_BENEFIT_RECEIVER_TO_STORE_RECEIVER
    FOREIGN KEY (RECEIVER_ID)
    REFERENCES BENEFIT_RECEIVER (RECEIVER_ID)
);


-- 제공인원 테이블
INSERT INTO BENEFIT_PERSONELL (PERSONELL_ID, AMOUNT_OF_PERSONELL)
VALUES
('BP_FAM', '가족'),
('BP_SELF', '본인'),
('BP_ALL', '모두'),
('BP_ONE', '동반1인'),
('BP_TWO', '동반2인'),
('BP_THR', '동반3인'),
('BP_NULL', '미입력/없음');

-- 제공대상 테이블
INSERT INTO BENEFIT_RECEIVER (RECEIVER_ID, RECEIVER)
VALUES
('BR_KID', '결식아동'),
('BR_FIR', '소방공무원'),
('BR_ELD', '독거노인'),
('BR_MOM', '미혼모'),
('BR_SIN', '한부모가정'),
('BR_GRD', '조부모가정'),
('BR_PRO', '생활보호대상자'),
('BR_POL', '경찰공무원'),
('BR_ARM', '군인'),
('BR_NUL', '미입력/없음');

-- 제공범위 테이블
INSERT INTO BENEFIT_RANGE (RANGE_ID, RANGE_NAME)
VALUES
('BG_ALL', '전상품 무료'),
('BG_ASA', '전상품 할인'),
('BG_PAR', '일부상품 무료'),
('BG_PSA', '일부상품 할인');

-- 상점분류 테이블
INSERT INTO BENEFIT_MENU (MENTYPE_ID, MENU_TYPE)
VALUES
('BM_MEA', '식사류'),
('BM_CAF', '카페/베이커리'),
('BM_LIF', '생활서비스'),
('BM_OTH', '기타');

-- 영업종료 테이블
INSERT INTO CLOSURE_TIME (CLOSURE_TIME)
VALUES
('오후 12시(정오)'),
('오후 1시'),
('오후 2시'),
('오후 3시'),
('오후 4시'),
('오후 5시'),
('오후 6시'),
('오후 7시'),
('오후 8시'),
('오후 9시'),
('오후 10시'),
('오후 11시'),
('오후 12시'),
('자정 이후'),
('기타');

-- 영업시작 테이블
INSERT INTO OPEN_TIME (OPEN_TIME)
VALUES
('오전 9시 이전'),
('오전 9시'),
('오전 10시'),
('오전 11시'),
('오후 12시(정오)'),
('오후 1시'),
('오후 2시'),
('오후 3시'),
('오후 4시'),
('오후 5시'),
('오후 6시'),
('오후 6시 이후'),
('기타');

-- 휴무일정 테이블
INSERT INTO DAY_OFF (DAYOFF_ID, OFF_DAY)
VALUES
('DO_MON', '월요일'),
('DO_TUE', '화요일'),
('DO_WED', '수요일'),
('DO_THU', '목요일'),
('DO_FRI', '금요일'),
('DO_SAT', '토요일'),
('DO_SUN', '일요일'),
('DO_NON', '연중무휴'),
('DO_ETC', '기타');

-- 후원참여여부 테이블
INSERT INTO DONATION_GENERAL (PARTICIPATE_ID,PATICIPATION)
VALUES
('DG_ATT', '참여'),
('DG_ABS', '비참여'),
('DG_NUL', '미입력/없음');

-- 상점지역 테이블
INSERT INTO LOCATION (PROVINCE_ID, PROVINCE_NAME)
VALUES
('LO_GAN', '강원'),
('LO_GGI', '경기'),
('LO_GNA', '경남'),
('LO_GBU', '경북'),
('LO_GWA', '광주'),
('LO_DAG', '대구'),
('LO_DAJ', '대전'),
('LO_BUS', '부산'),
('LO_SEO', '서울'),
('LO_SEJ', '세종'),
('LO_ULS', '울산'),
('LO_INC', '인천'),
('LO_JNS', '전남'),
('LO_JNN', '전북'),
('LO_JJU', '제주'),
('LO_CHA', '창원'),
('LO_CHS', '충남'),
('LO_CHN', '충북');

-- 월정기후원 테이블
INSERT INTO ROUTINAL_DONATION (DONATION_ID, DONATION_AMOUNT)
VALUES
('RD_100', '10,000원'),
('RD_050', '5,000원'),
('RD_000', '0원'),
('RD_999', '후원안함'),
('RD_444', '미입력/없음');

-- 상점 정보 레코드 일부 입력
INSERT INTO GOOD_STORE (STORE_ID, STORE_NAME, OWNER, TEL, ADDRESS, PROVINCE_ID, OPEN_TIME, CLOSURE_TIME, OFF_ID, PERSONELL_ID, PARTICIPATE_ID, RANGE_ID, MENTYPE_ID, DONATION_ID)
VALUES
(1, '진로1973', '진진희', 5882649286, '강원 춘천 명내면 거두리 966-8', 'LO_GAN', '오전 11시', '오후 5시', 'DO_ETC', 'BP_THR', 'DG_ATT', 'BG_ALL', 'BM_OTH', 'RD_100'),
(2, '카페터틀', '주진희', 5885218295, '강원도 명해시 추암명 촛대바위길 80 9층 카페터틀', 'LO_GAN', '오전 11시', '오후 9시', 'DO_NON', 'BP_ALL', 'DG_ATT', 'BG_ALL', 'BM_CAF','RD_050'),
(3, '황금발진당', '진말진', 58878482251, '강원도 원주시 송계8길89(학성명 성당앞)', 'LO_GAN', '오전 11시', '오후 8시', 'DO_SUN', 'BP_TWO', 'DG_ATT', 'BG_ALL', 'BM_OTH','RD_050'),
(4, '골진닭갈비', '추순자', 5885817911, '강원도 태백시 장성로 78-8', 'LO_GAN', '기타', '오후 7시', 'DO_MON', 'BP_THR', 'DG_ABS', 'BG_ALL', 'BM_MEA','RD_444');

-- 혜택제공대상 테이블 / 상점별 정보
INSERT INTO STORE_RECEIVER (STORE_ID, RECEIVER_ID)
VALUES
(1, 'BR_KID'),
(1, 'BR_FIR'),
(2, 'BR_KID'),
(2, 'BR_MOM'),
(2, 'BR_SIN'),
(2, 'BR_GRD'),
(2, 'BR_PRO'),
(3, 'BR_KID'),
(3, 'BR_FIR'),
(4, 'BR_KID');


-- FEW COLUMNS CHECK
SELECT GOOD_STORE.STORE_NAME, BENEFIT_MENU.MENU_TYPE, LOCATION.PROVINCE_NAME, BENEFIT_PERSONELL.AMOUNT_OF_PERSONELL
FROM GOOD_STORE, BENEFIT_MENU, LOCATION, BENEFIT_PERSONELL
WHERE BENEFIT_MENU.MENTYPE_ID = GOOD_STORE.MENTYPE_ID
AND LOCATION.PROVINCE_ID = GOOD_STORE.PROVINCE_ID
AND BENEFIT_PERSONELL.PERSONELL_ID = GOOD_STORE.PERSONELL_ID;
